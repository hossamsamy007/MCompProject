package uk.ac.ncl.burton.twyb.equalityTestingImplementation;

import uk.ac.ncl.burton.twyb.PK.PKVerifier;
import uk.ac.ncl.burton.twyb.PK.network.NetworkConnectionServer;

public class PartyServer {

	public static void main(String[] args) {
		
		
		NetworkConnectionServer server = new NetworkConnectionServer();
		Thread serverThread = new Thread(server);
		serverThread.start();

		
		server.setBlockingMode( true );
		
		String init = server.receiveMessage();
		PKVerifier victor = PKVerifier.getInstance(init);
		
		String commitment = server.receiveMessage();
		
		String challenge = victor.getJSONChallenge(commitment);
		server.sendMessage(challenge);
	}

}
